import type { FC } from 'react';
import type { VendorsEntity } from '../../../api-routes/types';

const ProductView: FC<{
  vendors: (VendorsEntity | null)[] | null | undefined;
}> = ({ vendors }) => {
  return (
    <td className="px-2 py-3 border-b border-gray-200  text-sm ">
      <p>
        {vendors
          ?.map((vendor) =>
            vendor?.products?.map((product) => {
              if (!product.versions || product.versions?.[0] === '-') {
                return product.product;
              }

              if (product.versions?.length === 1) {
                return `${product.product} ${`(${product.versions[0]})`}`;
              }
              if (product.versions.length > 1) {
                return `${product.product} ${`(${product.versions[0]} - ${
                  product.versions[product.versions.length - 1]
                })`}`;
              }

              return product.product;
            }),
          )
          .join(',')}
      </p>
    </td>
  );
};

export default ProductView;
