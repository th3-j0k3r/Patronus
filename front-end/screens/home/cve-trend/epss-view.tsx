import type { FC } from 'react';

const EPSSView: FC<{ score: string }> = ({ score }) => {
  function formatePercent() {
    try {
      if (score) {
        return `${parseFloat(score) * 100}%`;
      } else {
        return `0%`;
      }
    } catch (error) {
      return 0;
    }
  }

  return (
    <td className={`p-2 border-b border-gray-200  text-sm`}>
      <div
        className={` rounded-lg text-center  border border-gray-50/40 overflow-hidden`}
      >
        <div
          className="  bg-gray-400/50"
          style={{ width: `${formatePercent()}` }}
        >
          <p className="px-1 py-2 whitespace-nowrap">
            {formatePercent() !== '0%' ? formatePercent() : 'Pending'}
          </p>
        </div>
      </div>
    </td>
  );
};

export default EPSSView;
